/* NPCs portrait animation/sounds during dialogues */


function glemtalks(){
    if (gDialog.Visible){
        dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
    }
    dName.Text=("Glembovski: "); DBG2.Animate(67, 1, 3, eRepeat);
}

function glemlistens(){
    DBG2.Animate(67, 0, 3, eRepeat);
}


function APkittytalk(){
    if (gDialog.Visible){
        dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
    }
    DBG1.Animate(16, 4, 3, eRepeat); dName.Text=("Andrus: "); player.LockView(28); player.Animate(5, 3, eRepeat, eNoBlock);
}

function APkittylisten(){
    DBG1.Animate(16, 5, 3, eRepeat); player.LockView(28); player.Animate(6, 3, eRepeat, eNoBlock);
}


function TJtalkmad(){
    if (gDialog.Visible){
        dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
    }
    if (gPawn.Visible){
        pwn_pb.Visible=true; pwn_pb.Animate(127, 1, (pbspeed), eOnce);
    }
    int tks=Random(3);
    if (tks==0) PlaySoundEx(10, 3);
    else if (tks==1) PlaySoundEx(11, 3);
    else if (tks==2) PlaySoundEx(12, 3);
    else if (tks==3) PlaySoundEx(10, 3);
    
    if (!small_TJ){
        dName.Text=("Pawnbroker: "); pwnlabel.Text=("Pawnbroker: ");
    }
    else{
        dName.Text=("T.J.: "); pwnlabel.Text=("T.J.: ");
    }
    
    if ((player.Room==33) && (GetGlobalInt(90)==0)){
        TJ.LockView(138); TJ.Animate(3, 3, eRepeat, eNoBlock, eForwards);  //Sitting / Eating
    }
    else {
        TJ.LockView(174); TJ.Animate(4, 3, eRepeat, eNoBlock, eForwards);  //Standing
    }

    pwn2.Animate(137, 3, 3, eRepeat); DBG2.Animate(137, 3, 3, eRepeat);  //End Mad
}

function TJlistenmad(){
    TJ.Animate(1, 3, eRepeat, eNoBlock); pwn2.Animate(137, 4, 3, eRepeat); DBG2.Animate(137, 4, 3, eRepeat);
}


function Threetalk_M(){
    if (gDialog.Visible==true){
        dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
    }
    int tks=Random(2);
    if (tks==0) PlaySoundEx(84, 3);
    else if (tks==1) PlaySoundEx(85, 3);
    else if (tks==2) PlaySoundEx(86, 3);
    TheThree.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(159, 0, 3, eRepeat);
    if (!small_Three)
        dName.Text=("Short One: ");
    else
        dName.Text=("Michael: ");
}

function Threetalk_P(){
    if (gDialog.Visible==true){
        dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
    }
    int tks=Random(2);
    if (tks==0) PlaySoundEx(84, 3);
    else if (tks==1) PlaySoundEx(85, 3);
    else if (tks==2) PlaySoundEx(86, 3);
    TheThree.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(159, 2, 3, eRepeat);
    if (!small_Three)
        dName.Text=("Dark Haired One: ");
    else
        dName.Text=("Philip: ");
}

function Threetalk_S(){
    if (gDialog.Visible==true){
        dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
    }
    int tks=Random(2);
    if (tks==0) PlaySoundEx(84, 3);
    else if (tks==1) PlaySoundEx(85, 3);
    else if (tks==2) PlaySoundEx(86, 3);
    TheThree.Animate(6, 3, eRepeat, eNoBlock); DBG2.Animate(159, 4, 3, eRepeat);
    if (!small_Three)
        dName.Text=("Baseball Cap: ");
    else
        dName.Text=("Steve: ");
}


function SuchinListenSad(){
    DBG2.Animate(121, 3, 3, eRepeat); gmu2.Animate(121, 3, 3, eRepeat); 
    if (Suchin.View==226)
        Suchin.Animate(5, 3, eRepeat, eNoBlock);
    else
        Suchin.Animate(6, 3, eRepeat, eNoBlock);
}

function SuchinTalkSad(){
    if (gDialog.Visible){
        dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
    }
    int tks=Random(3);
    if (tks==0) PlaySoundEx(94, 3);
    else if (tks==1) PlaySoundEx(95, 3);
    else if (tks==2) PlaySoundEx(96, 3);
    else if (tks==3) PlaySoundEx(97, 3);

    if (!small_Suchin)
        dName.Text=("Woman: ");
    else
        dName.Text=("Su Chin: ");

    DBG2.Animate(121, 2, 3, eRepeat); gmu2.Animate(121, 2, 3, eRepeat);
    if (Suchin.View==226)
        Suchin.Animate(4, 3, eRepeat, eNoBlock);
    else
        Suchin.Animate(5, 3, eRepeat, eNoBlock, eForwards);
}

function SuchinListenSmile(){
    DBG2.Animate(121, 6, 3, eRepeat); gmu2.Animate(121, 6, 3, eRepeat); 
    if (Suchin.View==226)
        Suchin.Animate(5, 3, eRepeat, eNoBlock);
    else
        Suchin.Animate(6, 3, eRepeat, eNoBlock);
}

function SuchinTalkSmile(){
    if (gDialog.Visible==true){
        dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
    }
    int tks=Random(3);
    if (tks==0) PlaySoundEx(94, 3);
    else if (tks==1) PlaySoundEx(95, 3);
    else if (tks==2) PlaySoundEx(96, 3);
    else if (tks==3) PlaySoundEx(97, 3);
    
    if (!small_Suchin)
        dName.Text=("Woman: ");
    else
        dName.Text=("Su Chin: ");

    DBG2.Animate(121, 5, 3, eRepeat); gmu2.Animate(121, 5, 3, eRepeat);
    if (Suchin.View==226)
        Suchin.Animate(4, 3, eRepeat, eNoBlock);
    else
        Suchin.Animate(5, 3, eRepeat, eNoBlock, eForwards);
}


////////////=================/// CUSTOMERTALK: Where Georgetown customers do their talking. //===============///

function customertalk(){

    if (salebuyer==("Richard")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }
        
        int tks=Random(2);
        if (tks==0) PlaySoundEx(84, 3);
        else if (tks==1) PlaySoundEx(85, 3);
        else if (tks==2) PlaySoundEx(86, 3);
        
        Richard.Animate(3, 3, eRepeat, eNoBlock); DBG2.Animate(58, 0, 3, eRepeat);
        if (!small_Richard)
            dName.Text=("Customer: ");
        else
            dName.Text=("Richard: ");
    }

    if (salebuyer==("Troy")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }
        
        int tks=Random(2);
        if (tks==0) PlaySoundEx(84, 3);
        else if (tks==1) PlaySoundEx(85, 3);
        else if (tks==2) PlaySoundEx(86, 3);
        
        Troy.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(75, 0, 3, eRepeat); 
        if (!small_Troy)
            dName.Text=("Customer: ");
        else
            dName.Text=("Troy: ");
    }

    if (salebuyer==("Kyam")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(84, 3);
        else if (tks==1) PlaySoundEx(85, 3);
        else if (tks==2) PlaySoundEx(86, 3);

        Kyam.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(125, 0, 3, eRepeat); 
        if (small_Kyam==0)
            dName.Text=("Customer: ");
        else
            dName.Text=("Kyam: ");
    }

    if (salebuyer==("Chris")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(84, 3);
        else if (tks==1) PlaySoundEx(85, 3);
        else if (tks==2) PlaySoundEx(86, 3);
        
        Chris.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(142, 0, 3, eRepeat);
        if (small_Chris==0)
            dName.Text=("Customer: ");
        else
            dName.Text=("Chris: ");
    }

    if (salebuyer==("Matts")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(84, 3);
        else if (tks==1) PlaySoundEx(85, 3);
        else if (tks==2) PlaySoundEx(86, 3);

        Matts.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(238, 0, 3, eRepeat);
        if (small_Matts==0)
            dName.Text=("Stranger: ");
        else
            dName.Text=("Matts: ");
    }

    if (salebuyer==("Winston")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(84, 3);
        else if (tks==1) PlaySoundEx(85, 3);
        else if (tks==2) PlaySoundEx(86, 3);

        Winston.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(235, 0, 3, eRepeat);
        if (small_Winston==0)
            dName.Text=("Stranger: ");
        else
            dName.Text=("Winston: ");
    }

    if (salebuyer==("Ward")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(84, 3);
        else if (tks==1) PlaySoundEx(85, 3);
        else if (tks==2) PlaySoundEx(86, 3);

        Ward.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(150, 0, 3, eRepeat);
        if (small_Ward==0)
            dName.Text=("Customer: ");
        else
            dName.Text=("Ward: ");
    }

    if (salebuyer==("Sebastian")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(84, 3);
        else if (tks==1) PlaySoundEx(85, 3);
        else if (tks==2) PlaySoundEx(86, 3);

        Sebastian.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(145, 0, 3, eRepeat);
        if (small_Seb==0)
            dName.Text=("Customer: ");
        else
            dName.Text=("Sebastian: ");
    }

    if (salebuyer==("Thomas")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(84, 3);
        else if (tks==1) PlaySoundEx(85, 3);
        else if (tks==2) PlaySoundEx(86, 3);

        Thomas.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(245, 0, 3, eRepeat); 
        if (author_met==false)
            dName.Text=("Stranger: ");
        else
            dName.Text=("Thomas: ");
    }

    if (salebuyer==("Thales")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(84, 3);
        else if (tks==1) PlaySoundEx(85, 3);
        else if (tks==2) PlaySoundEx(86, 3);

        DBG2.Animate(106, 0, 3, eRepeat);
        if (small_Thales==0)
            dName.Text=("Policeman: ");
        else 
            dName.Text=("Thales: ");

        if (Thales.Room==18)
            Thales.Animate(7, 3, eRepeat, eNoBlock);  //Sit_n_Chat
        else
            Thales.Animate(4, 3, eRepeat, eNoBlock);  //All Business
    }

    if (salebuyer==("Johns")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(10, 3);
        else if (tks==1) PlaySoundEx(11, 3);
        else if (tks==2) PlaySoundEx(12, 3);

        DBG2.Animate(199, 0, 3, eRepeat); Johns.Animate(4, 3, eRepeat, eNoBlock);
        if (small_Johns==0)
            dName.Text=("Policeman: ");
        else
            dName.Text=("Johns: ");
    }

    if (salebuyer==("Nelly")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(3);
        if (tks==0) PlaySoundEx(94, 3);
        else if (tks==1) PlaySoundEx(96, 3);
        else if (tks==2) PlaySoundEx(97, 3);
        else if (tks==3) PlaySoundEx(95, 3);

        DBG2.Animate(201, 0, 3, eRepeat); Nelly.Animate(4, 3, eRepeat, eNoBlock);
        if (small_Nelly==0)
            dName.Text=("Customer: ");
        else if (small_Nelly!=0)
            dName.Text=("Nelly: ");
    }

    if (salebuyer==("Christin")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(84, 3);
        else if (tks==1) PlaySoundEx(85, 3);
        else if (tks==2) PlaySoundEx(86, 3);

        Christin.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(166, 0, 3, eRepeat);
        if (small_Christin==0)
            dName.Text=("Customer: ");
        else
            dName.Text=("Christin: ");
    }

    if (salebuyer==("Jessi")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(100, 3);
        else if (tks==1) PlaySoundEx(101, 3);
        else if (tks==2) PlaySoundEx(102, 3);

        Jessi.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(185, 0, 3, eRepeat);
        if (small_Jessi==0)
            dName.Text=("Customer: ");
        else
            dName.Text=("Jessi: ");
    }

    if (salebuyer==("Carolina")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(100, 3);
        else if (tks==1) PlaySoundEx(101, 3);
        else if (tks==2) PlaySoundEx(102, 3);

        Carolina.Animate(0, 3, eRepeat, eNoBlock); DBG2.Animate(222, 0, 3, eRepeat);
        if (GetGlobalInt(1)==P_ANDRUS)
            dName.Text=("Carolina: ");  //only andrus knows her?
        else
            dName.Text=("Woman: ");
    }

    if (salebuyer==("Andrus")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(10, 3);
        else if (tks==1) PlaySoundEx(11, 3);
        else if (tks==2) PlaySoundEx(12, 3);

        Andrus.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(213, 0, 3, eRepeat);
        if (small_Andrus==0)
            dName.Text=("Newsagent: ");
        else
            dName.Text=("Andrus: ");
    }

    if (salebuyer==("Melanie")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(100, 3);
        else if (tks==1) PlaySoundEx(101, 3);
        else if (tks==2) PlaySoundEx(102, 3);

        Melanie.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(215, 0, 3, eRepeat);
        if (small_Mel==0)
            dName.Text=("Cashier: ");
        else
            dName.Text=("Melanie: ");
    }

    if (salebuyer==("Vinny")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(84, 3);
        else if (tks==1) PlaySoundEx(85, 3);
        else if (tks==2) PlaySoundEx(86, 3);

        if ( (GetGlobalInt(1)==P_MEL) && (player.Room==29) ){  //Mel's Dream Man
            DBG2.Animate(273, 0, 3, eRepeat);
            dName.Text=("Young Man: ");
            Vinny.Animate(0, 3, eRepeat, eNoBlock);
        }
        else{  //Regularly
            DBG2.Animate(217, 0, 3, eRepeat);
            if (npcVinny_moving==false)
                Vinny.Animate(4, 3, eRepeat, eNoBlock);
            if (npcVinny_moving==true)
                Vinny.Animate(6, 3, eRepeat, eNoBlock);

            if (small_Vinny==0)
                dName.Text=("Bagel Vendor: ");
            else
                dName.Text=("Vinny: ");
        }
    }

    if (salebuyer==("Logan")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(84, 3);
        else if (tks==1) PlaySoundEx(85, 3);
        else if (tks==2) PlaySoundEx(86, 3);

        Logan.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(219, 0, 3, eRepeat);
        if (small_Logan==0)
            dName.Text=("Vendor: ");
        else
            dName.Text=("Logan: ");
    }

    if (salebuyer==("Julian")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(84, 3);
        else if (tks==1) PlaySoundEx(85, 3);
        else if (tks==2) PlaySoundEx(86, 3);

        Julian.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(187, 0, 3, eRepeat);
        if (small_Julian==0)
            dName.Text=("Customer: ");
        else
            dName.Text=("Julian: ");
    }

    if (salebuyer==("Harry")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(84, 3);
        else if (tks==1) PlaySoundEx(85, 3);
        else if (tks==2) PlaySoundEx(86, 3);

        Harry.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(253, 0, 3, eRepeat);
        if (small_Harry==0)
            dName.Text=("Tall Man: ");
        else
            dName.Text=("Harry: ");
    }

    if (salebuyer==("Seth")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(84, 3);
        else if (tks==1) PlaySoundEx(85, 3);
        else if (tks==2) PlaySoundEx(86, 3);

        if (Seth.Room!=18){
            Seth.Animate(3, 3, eRepeat, eNoBlock); DBG2.Animate(262, 0, 3, eRepeat);
        }
        else{  // Courthouse
            Seth.Animate(6, 3, eRepeat, eNoBlock); DBG2.Animate(262, 2, 3, eRepeat);
        }

        if (small_seth==0)
            dName.Text=("Customer: ");
        else if (small_seth!=0)
            dName.Text=("Seth: ");
    }

    if (salebuyer==("Judge")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(10, 3);
        else if (tks==1) PlaySoundEx(11, 3);
        else if (tks==2) PlaySoundEx(12, 3);

        Judge.Animate(0, 3, eRepeat, eNoBlock); DBG2.Animate(270, 0, 3, eRepeat);
        dName.Text=("Judge Posner: ");
    }

    if (salebuyer==("Rebecca")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(100, 3);
        else if (tks==1) PlaySoundEx(101, 3);
        else if (tks==2) PlaySoundEx(102, 3);

        if (Rebecca.Room!=29){  //Real Life!
            DBG2.Animate(255, 0, 3, eRepeat);
            if (Rebecca.Loop < 5)
                Rebecca.Animate(3, 3, eRepeat, eNoBlock);  //regular
            else if (Rebecca.Loop == 5)
                Rebecca.Animate(5, 3, eRepeat, eNoBlock);  //cooking
            else if (Rebecca.Loop > 5)
                Rebecca.Animate(9, 3, eRepeat, eNoBlock);  //on the phone
        }
        else {  //Room 29, Dream State
            DBG2.Animate(255, 6, 3, eRepeat);  //Long Hair Face
            if (melplot < 2)
                Rebecca.Animate(11, 3, eRepeat, eNoBlock);  //With Cup
            else if (melplot>=2)
                Rebecca.Animate(13, 3, eRepeat, eNoBlock);  //No Cup
        }

        if (small_rebecca==0)
            dName.Text=("Woman: ");
        else
            dName.Text=("Rebecca: ");
    }

    if (salebuyer==("Laura")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(100, 3);
        else if (tks==1) PlaySoundEx(101, 3);
        else if (tks==2) PlaySoundEx(102, 3);

        Laura.Animate(3, 3, eRepeat, eNoBlock);

        if ( (approval_laura < 5) && !gameover )
            DBG2.Animate(257, 2, 3, eRepeat);
        if (approval_laura == 5)
            DBG2.Animate(257, 0, 3, eRepeat);
        if (approval_laura > 5)
            DBG2.Animate(257, 4, 3, eRepeat);
        if ( (approval_laura < 0) && gameover )
            DBG2.Animate(257, 7, 3, eRepeat);

        if (small_laura==0)
            dName.Text=("Girl: ");
        else
            dName.Text=("Laura: ");
    }

    if (salebuyer==("DC")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(84, 3);
        else if (tks==1) PlaySoundEx(85, 3);
        else if (tks==2) PlaySoundEx(86, 3);

        DC.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(87, 0, 3, eRepeat);

        if (small_DC==0)
            dName.Text=("Customer: ");
        else
            dName.Text=("DC: ");
    }

    if (salebuyer==("Eva")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(100, 3);
        else if (tks==1) PlaySoundEx(101, 3);
        else if (tks==2) PlaySoundEx(102, 3);

        Evangeline.Animate(0, 3, eRepeat, eNoBlock); DBG2.Animate(190, 0, 3, eRepeat);
        dName.Text=("Evangeline: ");
    }

    if (salebuyer==("Melody")){
        if (gBigbyMenu.Visible==true){
            bigby_pb.Visible=true; bigby_pb.Animate(127, 0, (pbspeed), eOnce); bmu2.Animate(197, 0, 3, eRepeat);
        }
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
            DBG2.Animate(197, 0, 3, eRepeat);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(100, 3);
        else if (tks==1) PlaySoundEx(101, 3);
        else if (tks==2) PlaySoundEx(102, 3);

        Melody.Animate(4, 3, eRepeat, eNoBlock);
        if (small_Melody==0){
            dName.Text=("Butcher: "); bmu_speaker.Text=("Butcher: ");
        }
        else{
            dName.Text=("Melody: "); bmu_speaker.Text=("Melody: ");
        }
    }

    if (salebuyer==("Alice")){
        if (player.Room==12){  //In the Shop

            if (gMachine.Visible==true){
                alice_pb.Visible=true; alice_pb.Animate(127, 3, (pbspeed), eOnce);
            }
            if (gDialog.Visible==true){
                dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
            }

            int tks=Random(3);
            if (tks==0) PlaySoundEx(80, 3);
            else if (tks==1) PlaySoundEx(81, 3);
            else if (tks==2) PlaySoundEx(82, 3);
            else if (tks==3) PlaySoundEx(83, 3);

            if (small_Alice==0){
                dName.Text=("Machinist: "); gmu_label.Text=("Machinist: ");
            }
            else{
                dName.Text=("Alice: "); gmu_label.Text=("Alice: ");
            }

            DBG2.Animate(46, 0, 3, eRepeat); gmu2.Animate(46, 0, 3, eRepeat); cAlice.Animate(0, 3, eRepeat, eNoBlock, eForwards);
        }
        else{  //Out walkin' the streets.

            if (gDialog.Visible==true){
                dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
            }

            int tks=Random(3);
            if (tks==0) PlaySoundEx(80, 3);
            else if (tks==1) PlaySoundEx(81, 3);
            else if (tks==2) PlaySoundEx(82, 3);
            else if (tks==3) PlaySoundEx(83, 3);

            Alice_2.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(168, 0, 3, eRepeat);

            if (small_Alice==0)
                dName.Text=("Customer: ");
            else
                dName.Text=("Alice: ");
        }
    }

    if (salebuyer==("Marcus")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(84, 3);
        else if (tks==1) PlaySoundEx(85, 3);
        else if (tks==2) PlaySoundEx(86, 3);

        DBG2.Animate(63, 0, 3, eRepeat);

        if (Marcus.Room==27)  // Roastierry
            Marcus.Animate(5, 3, eRepeat, eNoBlock);
        else{  //Throwing a bug! (?)
            Marcus.ChangeView(86); Marcus.Animate(3, 3, eRepeat, eNoBlock);
        }

        if (small_Marcus==0)
            dName.Text=("Marcus: ");
        else
            dName.Text=("Marcus: ");
    }

    if (salebuyer==("Jenny")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(3);
        if (tks==0) PlaySoundEx(80, 3);
        else if (tks==1) PlaySoundEx(81, 3);
        else if (tks==2) PlaySoundEx(82, 3);
        else if (tks==3) PlaySoundEx(83, 3);

        Jenny.Animate(3, 3, eRepeat, eNoBlock); DBG2.Animate(91, 0, 3, eRepeat);
        if (small_Jenny==0)
            dName.Text=("Customer: ");
        else
            dName.Text=("Jenny: ");
    }

    if (salebuyer==("Toney")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(84, 3);
        else if (tks==1) PlaySoundEx(85, 3);
        else if (tks==2) PlaySoundEx(86, 3);

        Toney.Animate(3, 3, eRepeat, eNoBlock); DBG2.Animate(53, 0, 3, eRepeat);
        if (small_Toney==0)
            dName.Text=("Customer: ");
        else
            dName.Text=("Toney: ");
    }

    if (salebuyer==("Dick")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(84, 3);
        else if (tks==1) PlaySoundEx(85, 3);
        else if (tks==2) PlaySoundEx(86, 3);

        Dick.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(161, 0, 3, eRepeat);
        if (small_Dick==0)
            dName.Text=("Customer: ");
        else
            dName.Text=("Dick: ");
    }

    if (salebuyer==("The Three")){

        int threeside=Random(2);
        if (threeside==0) Threetalk_P();
        if (threeside==1) Threetalk_M();
        if (threeside==2) Threetalk_S();
    }

    if (salebuyer==("Meadow")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(3);
        if (tks==0) PlaySoundEx(94, 3);
        else if (tks==1) PlaySoundEx(95, 3);
        else if (tks==2) PlaySoundEx(96, 3);
        else if (tks==3) PlaySoundEx(97, 3);

        if (small_Meadow==0)
            dName.Text=("Receptionist: ");
        else
            dName.Text=("Meadow: ");

        DBG2.Animate(133, 0, 3, eRepeat);

        if (player.Room==32){  // Clamant Bdg
            Meadow.LockView(134); Meadow.Animate(0, 3, eRepeat, eNoBlock);
        }
        else{  // any other room
            Meadow.LockView(241); Meadow.Animate(4, 3, eRepeat, eNoBlock);
        }
    }

    if (salebuyer==("Glenda")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(3);
        if (tks==0) PlaySoundEx(94, 3);
        else if (tks==1) PlaySoundEx(95, 3);
        else if (tks==2) PlaySoundEx(96, 3);
        else if (tks==3) PlaySoundEx(97, 3);

        if (small_Glenda==0)
            dName.Text=("Secretary: ");
        else
            dName.Text=("Glenda: ");

        Glenda.LockView(73); Glenda.Animate(3, 3, eRepeat, eNoBlock); DBG2.Animate(72, 0, 3, eRepeat);
    }

    if (salebuyer==("George")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(91, 3);
        else if (tks==1) PlaySoundEx(92, 3);
        else if (tks==2) PlaySoundEx(93, 3);

        if (small_george==0)
            dName.Text=("Desk Clerk: ");
        else
            dName.Text=("George: ");

        if (George.View!=227){  // not moving
            George.LockView(66); DBG2.Animate(65, 0, 3, eRepeat);
        }
        else  // walking
            DBG2.Animate(65, 2, 3, eRepeat);
        George.Animate(0, 3, eRepeat, eNoBlock, eForwards);
    }

    if (salebuyer==("Tim")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        if (gBigbyMenu.Visible==true){
            bigby_pb.Visible=true; bigby_pb.Animate(127, 0, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(10, 3);
        else if (tks==1) PlaySoundEx(11, 3);
        else if (tks==2) PlaySoundEx(12, 3);

        if (small_Bigby==0){
            dName.Text=("Cashier: "); bmu_speaker.Text=("Cashier: ");
        }
        else{
            dName.Text=("Timothy: "); bmu_speaker.Text=("Timothy: ");
        }

        if (walmartia < 400.00){
            DBG2.Animate(27, 0, 3, eRepeat); bmu2.Animate(27, 0, 3, eRepeat); cTimothy.Animate(1, 3, eRepeat, eNoBlock, eForwards);
        }
        if (walmartia >= 400.00){
            DBG2.Animate(27, 3, 3, eRepeat); bmu2.Animate(27, 3, 3, eRepeat); cTimothy.Animate(1, 3, eRepeat, eNoBlock, eForwards);
        }
    }

    if (salebuyer==("Elliot")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }
        if (gRoastierry.Visible==true){
            roast_pb.Visible=true; roast_pb.Animate(127, 1, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(88, 3);
        else if (tks==1) PlaySoundEx(89, 3);
        else if (tks==2) PlaySoundEx(90, 3);

        rmu2.Animate(35, 2, 3, eRepeat);
        if (small_barneys==0){
            dName.Text=("Barista: "); rmu_label.Text=("Barista: ");
        }
        else {
            dName.Text=("Elliot: "); rmu_label.Text=("Elliot: ");
        }
        DBG2.Animate(35, 2, 3, eRepeat); cBarneys.Animate(2, 3, eRepeat, eNoBlock);
    }

    if (salebuyer==("Arthur")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }
        if (gRoastierry.Visible==true){
            roast_pb.Visible=true; roast_pb.Animate(127, 1, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(88, 3);
        else if (tks==1) PlaySoundEx(89, 3);
        else if (tks==2) PlaySoundEx(90, 3);

        rmu2.Animate(35, 0, 3, eRepeat);
        if (small_barneys==0){
            dName.Text=("Barista: "); rmu_label.Text=("Barista: ");
        }
        else{
            dName.Text=("Arthur: "); rmu_label.Text=("Arthur: ");
        }
        DBG2.Animate(35, 0, 3, eRepeat); cBarneys.Animate(2, 0, eRepeat, eNoBlock);
    }

    if (salebuyer==("Barneys")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }
        if (gRoastierry.Visible==true){
            roast_pb.Visible=true; roast_pb.Animate(127, 1, (pbspeed), eOnce);
        }

        int tks=Random(2);
        if (tks==0) PlaySoundEx(88, 3);
        else if (tks==1) PlaySoundEx(89, 3);
        else if (tks==2) PlaySoundEx(90, 3);

        int twinswitch=Random(1);
        if (twinswitch==0){  //Elliot
            rmu2.Animate(35, 2, 3, eRepeat);
            if (small_barneys==0){
                dName.Text=("Barista: "); rmu_label.Text=("Barista: ");
            }
            else{
                dName.Text=("Elliot: "); rmu_label.Text=("Elliot: ");
            }
            DBG2.Animate(35, 2, 3, eRepeat); cBarneys.Animate(2, 3, eRepeat, eNoBlock);
        }
        else {  //Arthur
            rmu2.Animate(35, 0, 3, eRepeat);
            if (small_barneys==0){
                dName.Text=("Barista: "); rmu_label.Text=("Barista: ");
            }
            else{
                dName.Text=("Arthur: "); rmu_label.Text=("Arthur: ");
            }
            DBG2.Animate(35, 0, 3, eRepeat); cBarneys.Animate(2, 0, eRepeat, eNoBlock);
        }
    }

    if (salebuyer==("Seany")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce); DBG2.Animate(33, 0, 3, eRepeat);  //FIXME check animation 33
        }
        if (gFaganMenu.Visible==true){
            fmu_pb.Visible=true; fmu_pb.Animate(127, 1, (pbspeed), eOnce); fmu2.Animate(33, 0, 3, eRepeat);
        }

        int tks=Random(3);
        if (tks==0) PlaySoundEx(10, 3);
        else if (tks==1) PlaySoundEx(11, 3);
        else if (tks==2) PlaySoundEx(12, 3);

        if (player.Room==33)  // FIXME pawnshop-donpactor?
            cSeany.Animate(1, 3, eRepeat, eNoBlock, eForwards);

        if (small_fagan==0){
            dName.Text=("Bartender: "); fmu_speaker.Text=("Bartender: ");
        }
        else{
            dName.Text=("Seany: ") ;fmu_speaker.Text=("Seany: ");
        }
    }

    if (salebuyer==("Faith")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }
        if (gFaganMenu.Visible==true){
            fmu_pb.Visible=true; fmu_pb.Animate(127, 2, (pbspeed), eOnce);
        }

        if (small_Faith==0){
            dName.Text=("Cashier: "); fmu_speaker.Text=("Cashier: ");
        }
        else{
            dName.Text=("Faith: "); fmu_speaker.Text="Faith: ";
        }

        Faith.LockView(97); Faith.Animate(0, 3, eRepeat, eNoBlock, eForwards);
        int tks=Random(3);
        if (tks==0) PlaySoundEx(80, 3);
        else if (tks==1) PlaySoundEx(81, 3);
        else if (tks==2) PlaySoundEx(82, 3);
        else if (tks==3) PlaySoundEx(83, 3);

        if ((GetGlobalInt(422)!=6) && (GetGlobalInt(422)!=8)){  // FIXME =6 test fail, =8 ?
            fmu2.Animate(96, 0, 3, eRepeat); DBG2.Animate(96, 0, 3, eRepeat);
        }
        if ((GetGlobalInt(422)==6) || (GetGlobalInt(422)==8)){
            fmu2.Animate(96, 3, 2, eRepeat); DBG2.Animate(96, 3, 2, eRepeat);
        }
    }

    if (salebuyer==("TJ")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }
        if (gPawn.Visible==true){
            pwn_pb.Visible=true; pwn_pb.Animate(127, 1, (pbspeed), eOnce);
        }

        int tks=Random(3);
        if (tks==0) PlaySoundEx(10, 3);
        else if (tks==1) PlaySoundEx(11, 3);
        else if (tks==2) PlaySoundEx(12, 3);
        else if (tks==3) PlaySoundEx(10, 3);

        if (small_TJ==0){
            dName.Text=("Pawnbroker: "); pwnlabel.Text=("Pawnbroker: ");
        }
        else{
            dName.Text=("T.J.: "); pwnlabel.Text=("T.J.: ");
        }

        if ( (player.Room==33) && (GetGlobalInt(90)==0) ){
            TJ.LockView(138); TJ.Animate(3, 3, eRepeat, eNoBlock, eForwards);  //Sitting / Eating
        }
        else {
            TJ.UnlockView(); TJ.ChangeView(174); TJ.Animate(4, 3, eRepeat, eNoBlock, eForwards);  //Standing
        }

        pwn2.Animate(137, 0, 3, eRepeat); DBG2.Animate(137, 0, 3, eRepeat);
    }

    if (salebuyer==("Stephanie")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(3);
        if (tks==0) PlaySoundEx(100, 3);
        else if (tks==1) PlaySoundEx(101, 3);
        else if (tks==2) PlaySoundEx(102, 3);
        else if (tks==3) PlaySoundEx(101, 3);

        if (small_Steph==0)
            dName.Text=("Waitress: ");
        else
            dName.Text=("Stephanie: ");

        Stephanie.LockView(158); Stephanie.Animate(4, 3, eRepeat, eNoBlock, eForwards);
        DBG2.Animate(157, 0, 3, eRepeat);
    }

    if (salebuyer==("Clarence")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(3);
        if (tks==0) PlaySoundEx(10, 3);
        else if (tks==1) PlaySoundEx(11, 3);
        else if (tks==2) PlaySoundEx(12, 3);
        else if (tks==3) PlaySoundEx(10, 3);

        if (small_clarence==0)
            dName.Text=("Old Man: ");
        else
            dName.Text=("Clarence: ");

        Clarence.LockView(267); Clarence.Animate(3, 2, eRepeat, eNoBlock, eForwards); DBG2.Animate(266, 0, 2, eRepeat);
    }

    if (salebuyer==("Stephen")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(3);
        if (tks==0) PlaySoundEx(10, 3);
        else if (tks==1) PlaySoundEx(11, 3);
        else if (tks==2) PlaySoundEx(12, 3);
        else if (tks==3) PlaySoundEx(10, 3);

        if (small_stephen==0)
            dName.Text=("Chef: ");
        else
            dName.Text=("Stephen: ");

        Stephen.LockView(287); Stephen.Animate(3, 2, eRepeat, eNoBlock, eForwards); DBG2.Animate(286, 0, 2, eRepeat);
    }

    if (salebuyer==("Betsy")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(3);
        if (tks==0) PlaySoundEx(100, 3);
        else if (tks==1) PlaySoundEx(101, 3);
        else if (tks==2) PlaySoundEx(102, 3);
        else if (tks==3) PlaySoundEx(101, 3);

        if (small_Betsy==0)
            dName.Text=("Cashier: ");
        else
            dName.Text=("Betsy: ");

        Betsy.LockView(105); Betsy.Animate(0, 3, eRepeat, eNoBlock, eForwards); DBG2.Animate(104, 0, 3, eRepeat);
    }

    if (salebuyer==("Dwayne")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(3);
        if (tks==0) PlaySoundEx(100, 3);
        else if (tks==1) PlaySoundEx(101, 3);
        else if (tks==2) PlaySoundEx(102, 3);
        else if (tks==3) PlaySoundEx(101, 3);

        if (small_Dwayne==0)
            dName.Text=("Cashier: ");
        else
            dName.Text=("Dwayne: ");

        Dwayne.LockView(184); Dwayne.Animate(0, 3, eRepeat, eNoBlock, eForwards); DBG2.Animate(183, 0, 3, eRepeat);
    }

    if (salebuyer==("Bramford")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(3);
        if (tks==0) PlaySoundEx(10, 3);
        else if (tks==1) PlaySoundEx(11, 3);
        else if (tks==2) PlaySoundEx(12, 3);
        else if (tks==3) PlaySoundEx(10, 3);

        if (small_Bram==0)
            dName.Text=("Janitor: ");
        else 
            dName.Text=("Bramford: ");

        //Bramford.LockView(149);
        Bramford.Animate(3, 3, eRepeat, eNoBlock, eForwards); DBG2.Animate(147, 0, 3, eRepeat);
    }

    if (salebuyer==("Basinski")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(3);
        if (tks==0) PlaySoundEx(10, 3);
        else if (tks==1) PlaySoundEx(11, 3);
        else if (tks==2) PlaySoundEx(12, 3);
        else if (tks==3) PlaySoundEx(10, 3);

        if (small_Bas==0)
            dName.Text=("Customer: ");
        else
            dName.Text=("Basinski: ");

        Basinski.LockView(180); Basinski.Animate(4, 3, eRepeat, eNoBlock, eForwards);
        DBG2.Animate(179, 0, 3, eRepeat);
    }

    if (salebuyer==("Omar")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(3);
        if (tks==0) PlaySoundEx(10, 3);
        else if (tks==1) PlaySoundEx(11, 3);
        else if (tks==2) PlaySoundEx(12, 3);
        else if (tks==3) PlaySoundEx(10, 3);
        
        if (small_Omar==0)
            dName.Text=("Vendor: ");
        else
            dName.Text=("Omar: ");

        Omar.LockView(178); Omar.Animate(4, 3, eRepeat, eNoBlock, eForwards);

        if (GetGlobalInt(442)!=2)  // not angry
            DBG2.Animate(177, 0, 3, eRepeat);
        else
            DBG2.Animate(177, 2, 3, eRepeat);
    }

    if (salebuyer==("Eddie")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }
        if (gFaganMenu.Visible==true){
            fmu_pb.Visible=true; fmu_pb.Animate(127, 2, (pbspeed), eOnce);
        }

        int tks=Random(3);
        if (tks==0) PlaySoundEx(10, 3);
        else if (tks==1) PlaySoundEx(11, 3);
        else if (tks==2) PlaySoundEx(12, 3);

        if (small_Eddie==0){
            dName.Text=("Cashier: "); fmu_speaker.Text=("Cashier: ");
        }
        else{
            dName.Text=("Eddie: "); fmu_speaker.Text=("Eddie: ");
        }

        if (GetGlobalInt(411)!=7)  // any other status
            Eddie.Animate(4, 3, eRepeat, eNoBlock, eForwards);
        else  // bookstore busted
            Eddie.Animate(8, 3, eRepeat, eNoBlock, eForwards);

        if (GetGlobalInt(423)<2){  // not angry
            DBG2.Animate(101, 0, 3, eRepeat); fmu2.Animate(101, 0, 3, eRepeat);
        }
        else{  // angry 
            DBG2.Animate(101, 2, 2, eRepeat); fmu2.Animate(101, 2, 2, eRepeat);
        }
    }

    if (salebuyer==("Suchin")){
        if (gDialog.Visible==true){
            dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);
        }

        int tks=Random(3);
        if (tks==0) PlaySoundEx(94, 3);
        else if (tks==1) PlaySoundEx(95, 3);
        else if (tks==2) PlaySoundEx(96, 3);
        else if (tks==3) PlaySoundEx(97, 3);

        if (small_Suchin==0)
            dName.Text=("Woman: ");
        else
            dName.Text=("Su Chin: ");

        DBG2.Animate(121, 0, 3, eRepeat); gmu2.Animate(121, 0, 3, eRepeat);

        if (Suchin.View==226)  // cleaning
            Suchin.Animate(4, 3, eRepeat, eNoBlock);
        else
            Suchin.Animate(5, 3, eRepeat, eNoBlock, eForwards);
    }
}


function customerlisten(){

    if (salebuyer==("Richard")){
        Richard.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(58, 1, 3, eRepeat);
    }

    if (salebuyer==("Troy")){
        Troy.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(75, 1, 3, eRepeat);
    }

    if (salebuyer==("Kyam")){
        Kyam.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(125, 1, 3, eRepeat);
    }

    if (salebuyer==("Chris")){
        Chris.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(142, 1, 3, eRepeat);
    }

    if (salebuyer==("Ward")){
        Ward.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(150, 1, 3, eRepeat);
    }

    if (salebuyer==("Sebastian")){
        Sebastian.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(145, 1, 3, eRepeat);
    }

    if (salebuyer==("Thomas")){
        Thomas.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(245, 1, 3, eRepeat);
    }

    if (salebuyer==("Johns")){
        DBG2.Animate(199, 1, 3, eRepeat); Johns.Animate(5, 3, eRepeat, eNoBlock);
    }

    if (salebuyer==("Nelly")){
        DBG2.Animate(201, 1, 3, eRepeat); Nelly.Animate(5, 3, eRepeat, eNoBlock);
    }

    if (salebuyer==("Christin")){
        Christin.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(166, 1, 3, eRepeat);
    }

    if (salebuyer==("Jessi")){
        Jessi.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(185, 1, 3, eRepeat);
    }

    if (salebuyer==("Julian")){
        Julian.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(187, 1, 3, eRepeat);
    }

    if (salebuyer==("Harry")){
        Harry.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(253, 1, 3, eRepeat);
    }

    if (salebuyer==("Judge")){
        Judge.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(270, 1, 3, eRepeat);
    }

    if (salebuyer==("DC")){
        DC.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(87, 1, 3, eRepeat);
    }

    if (salebuyer==("Eva")){
        Evangeline.Animate(1, 3, eRepeat, eNoBlock); DBG2.Animate(190, 1, 3, eRepeat);
    }

    if (salebuyer==("Jenny")){
        Jenny.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(91, 1, 3, eRepeat);
    }

    if (salebuyer==("Toney")){
        Toney.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(53, 1, 3, eRepeat);
    }

    if (salebuyer==("Dick")){
        Dick.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(161, 1, 3, eRepeat);
    }

    if (salebuyer==("Matts")){
        Matts.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(238, 1, 3, eRepeat);
    }
    
    if (salebuyer==("The Three")){
        TheThree.Animate(0, 3, eRepeat, eNoBlock); DBG2.Animate(159, 6, 3, eRepeat);
    }

    if (salebuyer==("Winston")){
        Winston.LockView(236); Winston.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(235, 1, 3, eRepeat);
    }

    if (salebuyer==("Glenda")){
        Glenda.LockView(73); Glenda.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(72, 1, 3, eRepeat);
    }

    if (salebuyer==("Barneys")){
        DBG2.Animate(35, 1, 3, eRepeat); cBarneys.Animate(1, 4, eRepeat, eNoBlock); rmu2.Animate(35, 1, 3, eRepeat);
    }

    if (salebuyer==("Stephanie")){
        Stephanie.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(157, 1, 3, eRepeat);
    }

    if (salebuyer==("Betsy")){
        Betsy.Animate(1, 3, eRepeat, eNoBlock); DBG2.Animate(104, 1, 3, eRepeat);
    }

    if (salebuyer==("Andrus")){
        Andrus.Animate(1, 3, eRepeat, eNoBlock); DBG2.Animate(213, 1, 3, eRepeat);
    }

    if (salebuyer==("Melanie")){
        Melanie.Animate(1, 3, eRepeat, eNoBlock); DBG2.Animate(215, 1, 3, eRepeat);
    }

    if (salebuyer==("Logan")){
        Logan.Animate(0, 3, eRepeat, eNoBlock); DBG2.Animate(219, 1, 3, eRepeat);
    }

    if (salebuyer==("Dwayne")){
        Dwayne.Animate(1, 3, eRepeat, eNoBlock); DBG2.Animate(183, 1, 3, eRepeat);
    }

    if (salebuyer==("Bramford")){
        Bramford.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(147, 1, 3, eRepeat);
    }

    if (salebuyer==("Basinski")){
        Basinski.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(179, 1, 3, eRepeat);
    }

    if (salebuyer==("Carolina")){
        Carolina.Animate(1, 3, eRepeat, eNoBlock); DBG2.Animate(222, 1, 3, eRepeat);
    }

    if (salebuyer==("Clarence")){
        Clarence.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(266, 1, 3, eRepeat);
    }

    if (salebuyer==("Stephen")){
        Stephen.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(286, 1, 3, eRepeat);
    }

    if (salebuyer==("The Three")){
        TheThree.Animate(0, 3, eRepeat, eNoBlock); DBG2.Animate(159, 6, 3, eRepeat);
    }

    if (salebuyer==("Seth")){
        if (Seth.Room!=18){  //Not in Courthouse
            Seth.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(262, 1, 3, eRepeat);
        }
        else{  // Courthouse
            Seth.Animate(7, 3, eRepeat, eNoBlock); DBG2.Animate(262, 3, 3, eRepeat);
        }
    }

    if (salebuyer==("Rebecca")){
        if (Rebecca.Room!=29){  //Real Life!
            if (Rebecca.Loop<5){
                Rebecca.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(255, 1, 3, eRepeat);
            }
            else if (Rebecca.Loop==5){
                Rebecca.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(255, 1, 3, eRepeat);
            }
            else if (Rebecca.Loop>5){
                Rebecca.Animate(8, 3, eRepeat, eNoBlock); DBG2.Animate(255, 1, 3, eRepeat);
            }
        }
        else{  //Room 29 - Dream State
            DBG2.Animate(255, 7, 3, eRepeat);  //Long Hair Face
            if (melplot<2)
                Rebecca.Animate(10, 3, eRepeat, eNoBlock);  //With Cup
            else if (melplot>=2)
                Rebecca.Animate(12, 3, eRepeat, eNoBlock);  //No Cup
        }
    }

    if (salebuyer==("Meadow")){
        if (player.Room==32){  //Clamant bdg
            Meadow.LockView(134); Meadow.Animate(1, 3, eRepeat, eNoBlock);
        }
        else{
            Meadow.LockView(241); Meadow.Animate(5, 3, eRepeat, eNoBlock);
        }
        DBG2.Animate(133, 1, 3, eRepeat);
    }

    if (salebuyer==("Suchin")){
        DBG2.Animate(121, 1, 3, eRepeat); gmu2.Animate(121, 1, 3, eRepeat);
        if (Suchin.View==226)  //cleaning
            Suchin.Animate(5, 3, eRepeat, eNoBlock);
        else
            Suchin.Animate(6, 3, eRepeat, eNoBlock);
    }

    if (salebuyer==("Laura")){
        Laura.Animate(4, 3, eRepeat, eNoBlock);

        if ( (approval_laura < 5) && !gameover )
            DBG2.Animate(257, 3, 3, eRepeat);
        else if (approval_laura == 5)
            DBG2.Animate(257, 1, 3, eRepeat);
        else if (approval_laura > 5)
            DBG2.Animate(257, 5, 3, eRepeat);
        else if ( (approval_laura < 0) && gameover)
            DBG2.Animate(257, 8, 3, eRepeat);
    }

    if (salebuyer==("Alice")){
        if (player.Room==12){
            DBG2.Animate(46, 1, 3, eRepeat); gmu2.Animate(46, 1, 3, eRepeat);  cAlice.Animate(1, 3, eRepeat, eNoBlock);
        }
        else {  //Out walkin' the streets.
            Alice_2.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(168, 1, 3, eRepeat);
        }
    }

    if (salebuyer==("George")){
        if (George.View!=227){
            George.LockView(66); DBG2.Animate(65, 1, 3, eRepeat);
        }
        else{  //walking
            DBG2.Animate(65, 3, 3, eRepeat);
        }
        George.Animate(3, 3, eRepeat, eNoBlock, eForwards);
    }

    if (salebuyer==("Seany")){
        if (gFaganMenu.Visible==true)
            fmu2.Animate(33, 1, 3, eRepeat);
        if (gDialog.Visible==true)
            DBG2.Animate(33, 1, 3, eRepeat);
        if (player.Room==33)
            cSeany.Animate(1, 3, eRepeat, eNoBlock, eForwards);
    }

    if (salebuyer==("TJ")){
        pwn2.Animate(137, 1, 3, eRepeat); DBG2.Animate(137, 1, 3, eRepeat);
        if ( (TJ.Room==33) && (GetGlobalInt(90)==0) )
            TJ.Animate(4, 3, eRepeat, eNoBlock);
        else
            TJ.Animate(5, 3, eRepeat, eNoBlock);
    }

    if (salebuyer==("Omar")){
        Omar.Animate(5, 3, eRepeat, eNoBlock);
        if (GetGlobalInt(442)!=2)
            DBG2.Animate(177, 1, 3, eRepeat);
        else
            DBG2.Animate(177, 3, 3, eRepeat);
    }

    if (salebuyer==("Tim")){
        if (walmartia < 400.00){
            DBG2.Animate(27, 1, 3, eRepeat); bmu2.Animate(27, 1, 3, eRepeat); cTimothy.Animate(2, 3, eRepeat, eNoBlock, eForwards);
        }
        else{
            DBG2.Animate(27, 4, 3, eRepeat); bmu2.Animate(27, 4, 3, eRepeat); cTimothy.Animate(2, 3, eRepeat, eNoBlock, eForwards);
        }
    }

    if (salebuyer==("Melody")){
        if (gBigbyMenu.Visible==true)
            bmu2.Animate(197, 1, 3, eRepeat);
        else
            DBG2.Animate(197, 1, 3, eRepeat);
        Melody.Animate(5, 3, eRepeat, eNoBlock);
    }

    if (salebuyer==("Vinny")){
        if ((GetGlobalInt(1)==P_MEL) && (player.Room==29)){  //Mel's Dream Man
            DBG2.Animate(273, 1, 3, eRepeat);
            dName.Text=("Young Man: ");
            Vinny.Animate(1, 3, eRepeat, eNoBlock);
        }
        else{  //Regularly  
            DBG2.Animate(217, 1, 3, eRepeat);
            if (npcVinny_moving==false)
                Vinny.Animate(0, 3, eRepeat, eNoBlock);
            else
                Vinny.Animate(7, 3, eRepeat, eNoBlock);
        }
    }

    if (salebuyer==("Faith")){
        Faith.Animate(1, 3, eRepeat, eNoBlock);
        if ((GetGlobalInt(422)!=6) && (GetGlobalInt(422)!=8)){
            fmu2.Animate(96, 1, 3, eRepeat); DBG2.Animate(96, 1, 3, eRepeat);
        }
        if ((GetGlobalInt(422)==6) || (GetGlobalInt(422)==8)){
            fmu2.Animate(96, 4, 3, eRepeat); DBG2.Animate(96, 4, 3, eRepeat);
        }
    }

    if (salebuyer==("Thales")){
        DBG2.Animate(106, 1, 3, eRepeat);
        if (Thales.Room==18)
            Thales.Animate(8, 3, eRepeat, eNoBlock);  //Sit_n_Chat
        else 
            Thales.Animate(5, 3, eRepeat, eNoBlock);  //All Business
    }

    if (salebuyer==("Marcus")){
        DBG2.Animate(63, 1, 3, eRepeat);
        if (Marcus.Room==27)
            Marcus.Animate(6, 3, eRepeat, eNoBlock);
        else
            Marcus.Animate(4, 3, eRepeat, eNoBlock);
    }

    if (salebuyer==("Eddie")){
        if (GetGlobalInt(411)!=7)
            Eddie.Animate(3, 3, eRepeat, eNoBlock);
        else
            Eddie.Animate(9, 3, eRepeat, eNoBlock);

        if (GetGlobalInt(423)<2){
            DBG2.Animate(101, 1, 3, eRepeat); fmu2.Animate(101, 1, 3, eRepeat);
        }
        else{
            DBG2.Animate(101, 3, 3, eRepeat); fmu2.Animate(101, 3, 3, eRepeat);
        }
    }
}